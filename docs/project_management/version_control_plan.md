# Version Control Plan

This document outlines how Seed manages version control across source code, documentation, firmware, and hardware design files. Because Seed spans multiple engineering domains and requires strict traceability, a clear version control strategy ensures consistency, collaboration, and long-term maintainability.

---

# 1. Goals of Version Control

- Ensure all development work is tracked, reversible, and reviewable
- Maintain clean separation between stable, testing, and experimental work
- Enable multiple contributors to collaborate without breaking functionality
- Protect the integrity of firmware and protocol implementations
- Maintain complete historical records for regulatory, security, and IP needs
- Support long-term scaling of the Seed codebase and documentation

---

# 2. Repository Structure

Seed uses a single monorepo divided into logical sections. Major domains include:

- firmware
- hardware
- software
- mesh-protocol
- ledger
- docs
- specs
- simulations
- prototypes
- operations
- legal

Each section contains subfolders and files associated with its engineering domain. All folders follow the same version control rules described in this document.

---

# 3. Branching Strategy

Seed uses a lightweight branching model inspired by Gitflow but simplified for speed.

## Main branches
- main  
  Contains the most stable, production-ready work. Only merged through pull requests with code review.

- develop  
  Integrates features that have passed testing but are not yet ready for production release.

## Supporting branches
- feature/*  
  One branch per feature, experiment, or document set. Examples:
  feature/ledger-merge  
  feature/mesh-sync  
  feature/risk-model-docs  

- fix/*  
  Used for bug fixes and urgent corrections.

- release/*  
  Used to prepare final firmware or documentation releases.

All branches must follow consistent naming conventions.

---

# 4. Commit Standards

Every commit must be small, clear, and descriptive. Recommended format:

type(scope): summary

Example:
feat(ledger): add lamport timestamp comparison logic

Types:
- feat
- fix
- docs
- refactor
- test
- security
- style
- build
- ci

Commit messages must explain intent, not just the action.

---

# 5. Pull Request Process

All work entering develop or main must go through a pull request.

A pull request must include:
- clear description of changes
- link to the corresponding issue, milestone, or task
- before and after behavior if applicable
- documentation updates if required

A pull request requires at least one approval before merging. Security-critical components may require two approvals.

---

# 6. Versioning Policy

Seed uses semantic versioning with the following structure:

major.minor.patch

Rules:
- increment major when breaking changes occur in firmware, protocol, or ledger structure
- increment minor when adding backward-compatible features
- increment patch when fixing bugs or improving stability

Documentation versions track the same major version number but may update independently.

---

# 7. Firmware-Specific Version Control

Firmware changes must follow additional requirements:
- every build must be reproducible
- changes must tag associated hardware revisions
- commit history must link firmware to specific hardware constraints
- version numbers must be embedded in the firmware build output

Firmware releases require release notes including:
- supported device models
- known issues
- required bootloader version
- upgrade instructions

---

# 8. Protocol Version Control

The Seed mesh protocol must remain backward compatible whenever possible.

Protocol versioning rules:
- protocol changes must be documented in specs/protocol_specs
- messages must include a version field
- devices must gracefully reject messages from unsupported versions
- protocol-breaking changes require major version increments

---

# 9. Documentation Version Control

Documentation follows the same process as code.

Rules:
- documentation changes require pull requests
- major architectural documents include version headers
- autogenerated diagrams or charts must include timestamps
- deprecated documents must be moved to an archive folder

---

# 10. Release Management

Each release requires:
- a release branch
- full test suite execution
- updated changelog
- signing of release artifacts (for firmware)
- tagging in Git with a semantic version number

Release cadence:
- minor releases: every 4â€“6 weeks
- major releases: after completion of major features or architectural milestones

---

# 11. Issue Tracking and Workflow

Issues are tracked through GitHub Issues and labeled by domain.

Labels:
- ledger
- mesh
- firmware
- hardware
- docs
- ai
- security
- bug
- enhancement
- research-needed
- high-priority

Workflow:
1. Create issue
2. Assign owner and milestone
3. Create feature/* or fix/* branch
4. Implement solution
5. Submit pull request
6. Review and merge

---

# 12. Security Practices in Version Control

- never commit secrets, private keys, or device identity files
- enforce mandatory .gitignore for sensitive files
- review commits for accidental credential leakage
- use branch protection rules for main and develop
- enable two-factor authentication for all contributors
- sign commits when contributing to security-critical components

---

# 13. Change Management and Audit Trail

For compliance, Seed maintains:
- commit history for all source changes
- documentation updates tied to commits
- firmware build logs
- protocol version diffs
- archived versions of major releases

This ensures regulatory and investor-grade traceability.

---

# 14. Long-Term Governance

As Seed scales, version control governance will include:
- code ownership rules
- review committees for protocol and ledger changes
- protected architectural documents
- required design reviews for high-impact components
- automated tests blocking merges on failure

---

# 15. Summary

This version control plan ensures that Seed remains stable, auditable, and scalable across all engineering domains. By enforcing consistent branching, documentation, and release structures, Seed maintains the integrity required for a global offline financial system.
